name: Documentation

on:
  push:
    paths:
      - 'docs/**'
  workflow_dispatch:

permissions:
  contents: write

concurrency:
  group: docs-deploy
  cancel-in-progress: true

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout Repository
      uses: actions/checkout@v4
      timeout-minutes: 3

    - name: Set up Python 3.14
      uses: actions/setup-python@v6
      timeout-minutes: 3
      with:
        python-version: "3.14"

    - name: Set cache id
      run: echo "cache_id=$(date --utc '+%V')" >> $GITHUB_ENV

    - name: Install and Deploy MkDocs Material
      uses: actions/cache@v4
      with:
        key: mkdocs-material-${{ env.cache_id }}
        path: ~/.cache 
        restore-keys: |
          mkdocs-material-
    - run: pip install mkdocs-material 
    - run: mkdocs gh-deploy